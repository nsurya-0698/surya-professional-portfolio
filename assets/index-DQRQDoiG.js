import{r as l,j as n}from"./index-CoLwlxg9.js";import{c as p}from"./createLucideIcon-DItEGi3x.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],g=p("Music2",m);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["circle",{cx:"12",cy:"18",r:"4",key:"m3r9ws"}],["path",{d:"M16 18V2",key:"40x2m5"}]],v=p("Music3",f),h="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",R=()=>{const[t,r]=l.useState(!1),c=l.useRef(null);l.useEffect(()=>{const e=c.current;if(!e)return;e.volume=.3;const o=()=>{console.log("Audio started playing"),r(!0)},a=()=>{console.log("Audio paused"),r(!1)},s=()=>{console.log("Audio ended"),r(!1)},d=E=>{if(console.error("Audio error:",E),console.error("Audio error details:",e.error),e.error)switch(e.error.code){case e.error.MEDIA_ERR_ABORTED:console.error("The user aborted the audio");break;case e.error.MEDIA_ERR_NETWORK:console.error("A network error occurred");break;case e.error.MEDIA_ERR_DECODE:console.error("An error occurred while decoding the audio");break;case e.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.error("The audio source is not supported or CORS blocked");break;default:console.error("An unknown error occurred")}r(!1)},i=()=>{console.log("Audio can play")},u=()=>{console.log("Audio data loaded")};return e.addEventListener("play",o),e.addEventListener("pause",a),e.addEventListener("ended",s),e.addEventListener("error",d),e.addEventListener("canplay",i),e.addEventListener("loadeddata",u),r(!e.paused),()=>{e.removeEventListener("play",o),e.removeEventListener("pause",a),e.removeEventListener("ended",s),e.removeEventListener("error",d),e.removeEventListener("canplay",i),e.removeEventListener("loadeddata",u)}},[]);const y=async()=>{const e=c.current;if(!e){console.error("Audio element not found");return}try{if(t)e.pause();else if(e.readyState>=2){const o=e.play();o!==void 0&&(await o,console.log("Music started successfully"))}else{e.load(),await new Promise(a=>{const s=()=>{e.removeEventListener("canplay",s),a()};e.addEventListener("canplay",s)});const o=e.play();o!==void 0&&(await o,console.log("Music started successfully after loading"))}}catch(o){console.error("Error toggling music:",o),console.error("Audio readyState:",e.readyState),console.error("Audio networkState:",e.networkState),r(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx("audio",{ref:c,src:h,loop:!0,preload:"auto",crossOrigin:"anonymous"}),n.jsx("button",{onClick:y,className:`music-toggle-button ${t?"playing":""}`,"aria-label":"Toggle Music",children:t?n.jsx(v,{size:20}):n.jsx(g,{size:20})})]})};export{R as default};
